<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   inkscape:version="1.0 (4035a4fb49, 2020-05-01)"
   sodipodi:docname="StateDiagram-Gateway.svg"
   id="svg1638"
   version="1.1"
   viewBox="1096 -44 791 617"
   height="31cm"
   width="40cm">
  <metadata
     id="metadata1644">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <defs
     id="defs1642">
    <rect
       id="rect942"
       height="6.3073601"
       width="14.717174"
       y="256.65083"
       x="1732.5813" />
  </defs>
  <sodipodi:namedview
     inkscape:document-rotation="0"
     inkscape:current-layer="svg1638"
     inkscape:window-maximized="1"
     inkscape:window-y="-8"
     inkscape:window-x="-8"
     inkscape:cy="726.05145"
     inkscape:cx="816.52874"
     inkscape:zoom="0.75141668"
     showgrid="false"
     id="namedview1640"
     inkscape:window-height="1377"
     inkscape:window-width="2560"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0"
     guidetolerance="10"
     gridtolerance="10"
     objecttolerance="10"
     borderopacity="1"
     bordercolor="#666666"
     pagecolor="#ffffff" />
  <text
     id="text1604"
     y="-9.85"
     x="1470"
     style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:700"
     font-size="33.8667"><tspan
       id="tspan1602"
       y="-9.85"
       x="1470">Gateway</tspan></text>
  <g
     id="g6220"
     transform="matrix(0.99630644,0,0,0.99630644,-23.934556,-11.125393)">
    <g
       id="g5579">
      <ellipse
         style="fill:#ffffff"
         cx="1718.97"
         cy="54.0336"
         rx="58.067299"
         ry="33.0336"
         id="ellipse5571" />
      <ellipse
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         cx="1718.97"
         cy="54.0336"
         rx="58.067299"
         ry="33.0336"
         id="ellipse5573" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"
         x="1718.97"
         y="58.833599"
         id="text5577"><tspan
           x="1718.97"
           y="58.833599"
           id="tspan5575">Init</tspan></text>
    </g>
    <g
       id="g5591">
      <ellipse
         style="fill:#ffffff"
         cx="1710.95"
         cy="253.464"
         rx="74.523903"
         ry="33.692001"
         id="ellipse5581" />
      <ellipse
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         cx="1710.95"
         cy="253.464"
         rx="74.523903"
         ry="33.692001"
         id="ellipse5583" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.8px;font-family:sans-serif;text-anchor:middle;fill:#000000"
         x="1710.95"
         y="250.26401"
         id="text5589"><tspan
           x="1710.95"
           y="250.26401"
           id="tspan5585">Waiting for Node</tspan><tspan
           x="1710.95"
           y="266.26401"
           id="tspan5587">Mesages</tspan></text>
    </g>
    <g
       id="g5599">
      <line
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x1="1717.6"
         y1="88.0429"
         x2="1712.74"
         y2="209.05701"
         id="line5593" />
      <polygon
         style="fill:#000000"
         points="1707.84,206.358 1712.74,209.057 1717.83,206.76 1712.44,216.551 "
         id="polygon5595" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1707.84,206.358 1712.74,209.057 1717.83,206.76 1712.44,216.551 "
         id="polygon5597" />
    </g>
    <g
       id="g5609">
      <rect
         style="fill:#ffffff"
         x="1541.98"
         y="332.14999"
         width="111.05"
         height="60"
         id="rect5601" />
      <rect
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x="1541.98"
         y="332.14999"
         width="111.05"
         height="60"
         id="rect5603" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"
         x="1597.5"
         y="366.95001"
         id="text5607"><tspan
           x="1597.5"
           y="366.95001"
           id="tspan5605">Clasify Message</tspan></text>
    </g>
    <g
       id="g5617">
      <path
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         d="m 1713.17,288.107 c 3.04,47.686 -21.5,74.043 -49.43,74.043"
         id="path5611"
         inkscape:connector-curvature="0" />
      <polygon
         style="fill:#000000"
         points="1666.24,357.15 1663.74,362.15 1666.24,367.15 1656.24,362.15 "
         id="polygon5613" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1666.24,357.15 1663.74,362.15 1666.24,367.15 1656.24,362.15 "
         id="polygon5615" />
    </g>
    <g
       id="g5629">
      <rect
         style="fill:#ffffff"
         x="1343.78"
         y="405.14999"
         width="106.95"
         height="54"
         id="rect5619" />
      <rect
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x="1343.78"
         y="405.14999"
         width="106.95"
         height="54"
         id="rect5621" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.8px;font-family:sans-serif;text-anchor:middle;white-space:pre;inline-size:106.317;fill:#000000"
         x="1397.25"
         y="428.95001"
         id="text5627"
         xml:space="preserve"><tspan
           x="1397.25"
           y="428.95001"><tspan>Process Node</tspan><tspan
             y="428.95001"> </tspan></tspan><tspan
           x="1397.25"
           y="444.95001"><tspan>data</tspan></tspan></text>
    </g>
    <g
       id="g5641">
      <rect
         style="fill:#ffffff"
         x="1357"
         y="301.14999"
         width="93.725998"
         height="54"
         id="rect5631" />
      <rect
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x="1357"
         y="301.14999"
         width="93.725998"
         height="54"
         id="rect5633" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"
         x="1403.86"
         y="324.95001"
         id="text5639"><tspan
           x="1403.86"
           y="324.95001"
           id="tspan5635">Process</tspan><tspan
           x="1403.86"
           y="340.95001"
           id="tspan5637">Client Hello</tspan></text>
    </g>
    <g
       id="g5649">
      <line
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x1="1541.05"
         y1="352.23901"
         x2="1461.3101"
         y2="338.23599"
         id="line5643" />
      <polygon
         style="fill:#000000"
         points="1464.63,333.744 1461.31,338.236 1462.9,343.593 1453.92,336.939 "
         id="polygon5645" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1464.63,333.744 1461.31,338.236 1462.9,343.593 1453.92,336.939 "
         id="polygon5647" />
    </g>
    <g
       id="g5657">
      <line
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x1="1540.97"
         y1="381.91"
         x2="1460.92"
         y2="409.89499"
         id="line5651" />
      <polygon
         style="fill:#000000"
         points="1461.63,404.35 1460.92,409.895 1464.93,413.79 1453.84,412.37 "
         id="polygon5653" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1461.63,404.35 1460.92,409.895 1464.93,413.79 1453.84,412.37 "
         id="polygon5655" />
    </g>
    <text
       font-size="12.8"
       style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"
       x="1475"
       y="331.14999"
       id="text5661"><tspan
         x="1475"
         y="331.14999"
         id="tspan5659">Client hello</tspan></text>
    <text
       font-size="12.8"
       style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"
       x="1473"
       y="429.14999"
       id="text5665"><tspan
         x="1473"
         y="429.14999"
         id="tspan5663">Sensor Message</tspan></text>
    <g
       id="g5673">
      <path
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         d="m 1409.27,460.142 c 73,170 580.89,-110.206 371.04,-182.712"
         id="path5667"
         inkscape:connector-curvature="0" />
      <polygon
         style="fill:#000000"
         points="1784.31,273.521 1780.31,277.43 1781.04,282.972 1773.23,274.981 "
         id="polygon5669" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1784.31,273.521 1780.31,277.43 1781.04,282.972 1773.23,274.981 "
         id="polygon5671" />
    </g>
    <text
       font-size="12.8"
       style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"
       x="1207"
       y="218.85229"
       id="text5697"><tspan
         x="1207"
         y="218.85229"
         id="tspan5695">Send server hello</tspan></text>
    <g
       id="g5705">
      <path
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         d="m 1451.73,303.101 c 93.62,-49 75.3,-49.637 173.99,-49.637"
         id="path5699"
         inkscape:connector-curvature="0" />
      <polygon
         style="fill:#000000"
         points="1623.22,258.464 1625.72,253.464 1623.22,248.464 1633.22,253.464 "
         id="polygon5701" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1623.22,258.464 1625.72,253.464 1623.22,248.464 1633.22,253.464 "
         id="polygon5703" />
    </g>
    <text
       font-size="12.8"
       style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"
       x="1498"
       y="256.14999"
       id="text5709"><tspan
         x="1498"
         y="256.14999"
         id="tspan5707">Error</tspan></text>
    <g
       id="g5717">
      <path
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         d="m 1597.9,331.15 c 0.5,-39 -1.8,-43.009 40.83,-55.88"
         id="path5711"
         inkscape:connector-curvature="0" />
      <polygon
         style="fill:#000000"
         points="1637.78,280.779 1638.73,275.27 1634.89,271.206 1645.91,273.102 "
         id="polygon5713" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1637.78,280.779 1638.73,275.27 1634.89,271.206 1645.91,273.102 "
         id="polygon5715" />
    </g>
    <text
       font-size="12.8"
       style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"
       x="1609"
       y="309.14999"
       id="text5721"><tspan
         x="1609"
         y="309.14999"
         id="tspan5719">Error</tspan></text>
    <g
       id="g5743">
      <rect
         style="fill:#ffffff"
         x="1311"
         y="79.150002"
         width="109"
         height="49"
         id="rect5735" />
      <rect
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x="1311"
         y="79.150002"
         width="109"
         height="49"
         id="rect5737" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"
         x="1365.5"
         y="108.45"
         id="text5741"><tspan
           x="1365.5"
           y="108.45"
           id="tspan5739">Store keys</tspan></text>
    </g>
    <g
       id="g5751">
      <path
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         d="M 1358.0044,330.04369 C 1131.1584,324.31877 1157.129,102.44716 1300.29,103.65"
         id="path5745"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="cc" />
      <polygon
         style="fill:#000000"
         points="1297.79,108.65 1300.29,103.65 1297.79,98.65 1307.79,103.65 "
         id="polygon5747" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1297.79,108.65 1300.29,103.65 1297.79,98.65 1307.79,103.65 "
         id="polygon5749" />
    </g>
    <g
       id="g5763">
      <line
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x1="1421.01"
         y1="127.721"
         x2="1647.3199"
         y2="225.866"
         id="line5757" />
      <polygon
         style="fill:#000000"
         points="1643.03,229.459 1647.32,225.866 1647.01,220.285 1654.2,228.85 "
         id="polygon5759" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1643.03,229.459 1647.32,225.866 1647.01,220.285 1654.2,228.85 "
         id="polygon5761" />
    </g>
    <text
       font-size="12.8"
       style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:start;fill:#000000"
       x="1609"
       y="478"
       id="text5771"><tspan
         x="1609"
         y="478"
         id="tspan5769">Error</tspan></text>
    <g
       id="g5783">
      <rect
         style="fill:#ffffff"
         x="1194"
         y="405.14999"
         width="99.125"
         height="54"
         id="rect5773" />
      <rect
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x="1194"
         y="405.14999"
         width="99.125"
         height="54"
         id="rect5775" />
      <text
         font-size="12.8"
         style="font-style:normal;font-weight:normal;font-size:12.80000019px;font-family:sans-serif;text-anchor:middle;fill:#000000"
         x="1243.5601"
         y="428.95001"
         id="text5781"><tspan
           x="1243.5601"
           y="428.95001"
           id="tspan5777">Send MQTT</tspan><tspan
           x="1243.5601"
           y="444.95001"
           id="tspan5779">message</tspan></text>
    </g>
    <g
       id="g5791">
      <line
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         x1="1343.78"
         y1="432.14999"
         x2="1302.86"
         y2="432.14999"
         id="line5785" />
      <polygon
         style="fill:#000000"
         points="1305.36,427.15 1302.86,432.15 1305.36,437.15 1295.36,432.15 "
         id="polygon5787" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1305.36,427.15 1302.86,432.15 1305.36,437.15 1295.36,432.15 "
         id="polygon5789" />
    </g>
    <g
       id="g5799">
      <path
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         d="m 1252.75,460.136 c 101.44,308.85 906.71,-111.629 536.19,-190.147"
         id="path5793"
         inkscape:connector-curvature="0" />
      <polygon
         style="fill:#000000"
         points="1792.42,265.616 1788.94,269.989 1790.34,275.399 1781.6,268.434 "
         id="polygon5795" />
      <polygon
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2"
         points="1792.42,265.616 1788.94,269.989 1790.34,275.399 1781.6,268.434 "
         id="polygon5797" />
    </g>
    <g
       transform="translate(403.59525,27.395274)"
       id="g5641-6">
      <rect
         style="fill:#ffffff"
         x="1357"
         y="301.14999"
         width="93.725998"
         height="54"
         id="rect5631-6" />
      <rect
         style="fill:none;fill-opacity:0;stroke:#000000;stroke-width:2.24598193"
         x="1342.689"
         y="301.27298"
         width="118.73956"
         height="53.754021"
         id="rect5633-7" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-weight:normal;font-size:21.1423378px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.52855843"
         x="1404.0557"
         y="317.98117"
         id="text5841"><tspan
           sodipodi:role="line"
           x="1404.0557"
           y="317.98117"
           style="font-size:12.68540192px;text-align:center;text-anchor:middle;stroke-width:0.52855843"
           id="tspan5843">Force node</tspan><tspan
           sodipodi:role="line"
           x="1404.0557"
           y="344.40909"
           style="font-size:12.68540192px;text-align:center;text-anchor:middle;stroke-width:0.52855843"
           id="tspan5847">deregistration</tspan></text>
    </g>
  </g>
  <text
     style="fill:black;fill-opacity:1;stroke:none;font-family:sans-serif;font-style:normal;font-weight:normal;font-size:5.61713252px;line-height:1.25;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect942);"
     id="text940"
     xml:space="preserve" />
</svg>
